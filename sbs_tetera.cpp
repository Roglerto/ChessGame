/**  Fichero: TETERA.C
***  Funcion: Datos y funciones para crear la tetera
***           como parametros de superficies b-spline
**/



#include "sbs_tetera.hpp"

namespace sbs
{

/***
****     CUERPO
***/

const unsigned long NPU_CUERPO = 10  ; // numero de columnas de los p.c. 
const unsigned long NPV_CUERPO = 13  ; // numero de filas de los p.c.    

/** puntos de control del cuerpo (por filas)
**/

vector3 puntos_cuerpo[NPU_CUERPO*NPV_CUERPO] = {

	    /*1*/   { 1.4, 2.25, 0 },
		    { 1.3375, 2.38125, 0 },
		    { 1.4375, 2.38125, 0 },
		    { 1.5, 2.25, 0 },
		    { 1.75, 1.725, 0 },
		    { 2, 1.2, 0 },
		    { 2, 0.75, 0 },
		    { 2, 0.3, 0 },
		    { 1.5, 0.075, 0 },
		    { 1.5, 0, 0 },

	     /*2*/  { 1.4, 2.25, 0.784 },
		    { 1.3375, 2.38125, 0.749 },
		    { 1.4375, 2.38125, 0.805 },
		    { 1.5, 2.25, 0.84 },
		    { 1.75, 1.725, 0.98 },
		    { 2, 1.2, 1.12 },
		    { 2, 0.75, 1.12 },
		    { 2, 0.3, 1.12 },
		    { 1.5, 0.075, 0.84 },
		    { 1.5, 0, 0.84 },

	     /*3*/  { 0.784, 2.25, 1.4 },
		    { 0.749, 2.38125, 1.3375 },
		    { 0.805, 2.38125, 1.4375 },
		    { 0.84, 2.25, 1.5 },
		    { 0.98, 1.725, 1.75 },
		    { 1.12, 1.2, 2 },
		    { 1.12, 0.75, 2 },
		    { 1.12, 0.3, 2 },
		    { 0.84, 0.075, 1.5 },
		    { 0.84, 0, 1.5 },

	   /*4*/    { 0, 2.25, 1.4 },
		    { 0, 2.38125, 1.3375 },
		    { 0, 2.38125, 1.4375 },
		    { 0, 2.25, 1.5 },
		    { 0, 1.725, 1.75 },
		    { 0, 1.2, 2 },
		    { 0, 0.75, 2 },
		    { 0, 0.3, 2 },
		    { 0, 0.075, 1.5 },
		    { 0, 0, 1.5 },

	      /*5*/ { -0.784, 2.25, 1.4 },
		    { -0.749, 2.38125, 1.3375 },
		    { -0.805, 2.38125, 1.4375 },
		    { -0.84, 2.25, 1.5 },
		    { -0.98, 1.725, 1.75 },
		    { -1.12, 1.2, 2 },
		    { -1.12, 0.75, 2 },
		    { -1.12, 0.3, 2 },
		    { -0.84, 0.075, 1.5 },
		    { -0.84, 0, 1.5 },

	    /*6*/   { -1.4, 2.25, 0.784 },
		    { -1.3375, 2.38125, 0.749 },
		    { -1.4375, 2.38125, 0.805 },
		    { -1.5, 2.25, 0.84 },
		    { -1.75, 1.725, 0.98 },
		    { -2, 1.2, 1.12 },
		    { -2, 0.75, 1.12 },
		    { -2, 0.3, 1.12 },
		    { -1.5, 0.075, 0.84 },
		    { -1.5, 0, 0.84 },

	    /*7*/   { -1.4, 2.25, 0 },
		    { -1.3375, 2.38125, 0 },
		    { -1.4375, 2.38125, 0 },
		    { -1.5, 2.25, 0 },
		    { -1.75, 1.725, 0 },
		    { -2, 1.2, 0 },
		    { -2, 0.75, 0 },
		    { -2, 0.3, 0 },
		    { -1.5, 0.075, 0 },
		    { -1.5, 0, 0 },

	     /*8*/  { -1.4, 2.25, -0.784 },
		    { -1.3375, 2.38125, -0.749 },
		    { -1.4375, 2.38125, -0.805 },
		    { -1.5, 2.25, -0.84 },
		    { -1.75, 1.725, -0.98 },
		    { -2, 1.2, -1.12 },
		    { -2, 0.75, -1.12 },
		    { -2, 0.3, -1.12 },
		    { -1.5, 0.075, -0.84 },
		    { -1.5, 0, -0.84 },

	      /*9*/ { -0.784, 2.25, -1.4 },
		    { -0.749, 2.38125, -1.3375 },
		    { -0.805, 2.38125, -1.4375 },
		    { -0.84, 2.25, -1.5 },
		    { -0.98, 1.725, -1.75 },
		    { -1.12, 1.2, -2 },
		    { -1.12, 0.75, -2 },
		    { -1.12, 0.3, -2 },
		    { -0.84, 0.075, -1.5 },
		    { -0.84, 0, -1.5 },

	     /*10*/ { 0, 2.25, -1.4 },
		    { 0, 2.38125, -1.3375 },
		    { 0, 2.38125, -1.4375 },
		    { 0, 2.25, -1.5 },
		    { 0, 1.725, -1.75 },
		    { 0, 1.2, -2 },
		    { 0, 0.75, -2 },
		    { 0, 0.3, -2 },
		    { 0, 0.075, -1.5 },
		    { 0, 0, -1.5 },

	   /*11*/   { 0.784, 2.25, -1.4 },
		    { 0.749, 2.38125, -1.3375 },
		    { 0.805, 2.38125, -1.4375 },
		    { 0.84, 2.25, -1.5 },
		    { 0.98, 1.725, -1.75 },
		    { 1.12, 1.2, -2 },
		    { 1.12, 0.75, -2 },
		    { 1.12, 0.3, -2 },
		    { 0.84, 0.075, -1.5 },
		    { 0.84, 0, -1.5 },

	     /*12*/ { 1.4, 2.25, -0.784 },
		    { 1.3375, 2.38125, -0.749 },
		    { 1.4375, 2.38125, -0.805 },
		    { 1.5, 2.25, -0.84 },
		    { 1.75, 1.725, -0.98 },
		    { 2, 1.2, -1.12 },
		    { 2, 0.75, -1.12 },
		    { 2, 0.3, -1.12 },
		    { 1.5, 0.075, -0.84 },
		    { 1.5, 0, -0.84  },

	     /*13*/ { 1.4, 2.25, 0 },
		    { 1.3375, 2.38125, 0 },
		    { 1.4375, 2.38125, 0 },
		    { 1.5, 2.25, 0 },
		    { 1.75, 1.725, 0 },
		    { 2, 1.2, 0 },
		    { 2, 0.75, 0 },
		    { 2, 0.3, 0 },
		    { 1.5, 0.075, 0 },
		    { 1.5, 0, 0 }
    } ;

real nodosu_cuerpo[NPU_CUERPO+4] =
    { 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 3 } ;

real nodosv_cuerpo[NPV_CUERPO+4] =
    { 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4 } ;

/*** 
****   BOCA
***/


#define NPU_BOCA 7
#define NPV_BOCA 7


vector3 puntos_boca[NPU_BOCA*NPV_BOCA] = {

/* 1 */
          { 1.7, 1.275, 0 },
                    { 2.6, 1.275, 0 },
                    { 2.3, 1.95, 0 },
                    { 2.7, 2.25, 0 },
                    { 2.8, 2.325, 0 },
                    { 2.9, 2.325, 0 },
                    { 2.8, 2.25, 0  },
/* 2 */
               { 1.7, 1.275, 0.66 },
                    { 2.6, 1.275, 0.66 },
                    { 2.3, 1.95, 0.25 },
                    { 2.7, 2.25, 0.25 },
                    { 2.8, 2.325, 0.25 },
                    { 2.9, 2.325, 0.15 },
                    { 2.8, 2.25, 0.15  },
/* 3 */
               { 1.7, 0.45, 0.66 },
                    { 3.1, 0.675, 0.66 },
                    { 2.4, 1.875, 0.25 },
                    { 3.3, 2.25, 0.25 },
                    { 3.525, 2.34375, 0.25 },
                    { 3.45, 2.3625, 0.15 },
                    { 3.2, 2.25, 0.15  },
/* 4 */
               { 1.7, 0.45, 0 },
                    { 3.1, 0.675, 0 },
                    { 2.4, 1.875, 0 },
                    { 3.3, 2.25, 0 },
                    { 3.525, 2.34375, 0 },
                    { 3.45, 2.3625, 0 },
                    { 3.2, 2.25, 0  },
/* 5 */
               { 1.7, 0.45, -0.66 },
                    { 3.1, 0.675, -0.66 },
                    { 2.4, 1.875, -0.25 },
                    { 3.3, 2.25, -0.25 },
                    { 3.525, 2.34375, -0.25 },
                    { 3.45, 2.3625, -0.15 },
                    { 3.2, 2.25, -0.15  },
/* 6 */
               { 1.7, 1.275, -0.66 },
                    { 2.6, 1.275, -0.66 },
                    { 2.3, 1.95, -0.25 },
                    { 2.7, 2.25, -0.25 },
                    { 2.8, 2.325, -0.25 },
                    { 2.9, 2.325, -0.15 },
                    { 2.8, 2.25, -0.15  },
/* 7 */
               { 1.7, 1.275, 0 },
                    { 2.6, 1.275, 0 },
                    { 2.3, 1.95, 0 },
                    { 2.7, 2.25, 0 },
                    { 2.8, 2.325, 0 },
                    { 2.9, 2.325, 0 },
                    { 2.8, 2.25, 0   }
         } ;

real nodosu_boca[NPU_BOCA+4] =
         { 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2 } ;

real nodosv_boca[NPV_BOCA+4] =
          { 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2 }   ;



/**
***    ASA
**/

#define NPU_ASA 7
#define NPV_ASA 7

vector3 puntos_asa[NPU_ASA*NPV_ASA] = {

      { -1.595, 1.875, 0 },
                { -2.295, 1.875, 0 },
                { -2.695, 1.875, 0 },
                { -2.695, 1.65, 0 },
                { -2.695, 1.425, 0 },
                { -2.495, 0.975, 0 },
                { -1.995, 0.75, 0  },

           { -1.595, 1.875, 0.3 }    ,
                { -2.295, 1.875, 0.3 },
                { -2.695, 1.875, 0.3 },
                { -2.695, 1.65, 0.3 } ,
                { -2.695, 1.425, 0.3 },
                { -2.495, 0.975, 0.3 },
                { -1.995, 0.75, 0.3  },

           { -1.495, 2.1, 0.3 }        ,
                { -2.495, 2.1, 0.3 }   ,
                { -2.995, 2.1, 0.3 }   ,
                { -2.995, 1.65, 0.3 }  ,
                { -2.995, 1.2, 0.3 }   ,
                { -2.645, 0.7875, 0.3 },
                { -1.895, 0.45, 0.3  } ,

           { -1.495, 2.1, 0 }          ,
                { -2.495, 2.1, 0 }     ,
                { -2.995, 2.1, 0 }     ,
                { -2.995, 1.65, 0 }    ,
                { -2.995, 1.2, 0 }     ,
                { -2.645, 0.7875, 0 }  ,
                { -1.895, 0.45, 0  }   ,

           { -1.495, 2.1, -0.3 }       ,
                { -2.495, 2.1, -0.3 }  ,
                { -2.995, 2.1, -0.3 }  ,
                { -2.995, 1.65, -0.3 } ,
                { -2.995, 1.2, -0.3 }  ,
                { -2.645, 0.7875, -0.3 },
                { -1.895, 0.45, -0.3  } ,

           { -1.595, 1.875, -0.3 }      ,
                { -2.295, 1.875, -0.3 } ,
                { -2.695, 1.875, -0.3 } ,
                { -2.695, 1.65, -0.3 }  ,
                { -2.695, 1.425, -0.3 } ,
                { -2.495, 0.975, -0.3 } ,
                { -1.995, 0.75, -0.3  } ,

           { -1.595, 1.875, 0 }         ,
                { -2.295, 1.875, 0 }    ,
                { -2.695, 1.875, 0 }    ,
                { -2.695, 1.65, 0 }     ,
                { -2.695, 1.425, 0 }    ,
                { -2.495, 0.975, 0 }    ,
                { -1.995, 0.75, 0   }
} ;

real nodosu_asa[NPU_ASA+4] =
   {  0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2 } ;

real nodosv_asa[NPV_ASA+4] =
   {  0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2 } ;

/**
***  TAPA
**/


#define NPU_TAPA  7
#define NPV_TAPA  13

vector3 puntos_tapa[NPU_TAPA*NPV_TAPA] = {

      { 0, 3, 0 },
                { 0.8, 3, 0 },
                { 0, 2.7, 0 },
                { 0.2, 2.55, 0 },
                { 0.4, 2.4, 0 },
                { 1.3, 2.4, 0 },
                { 1.3, 2.25, 0  },

           { 0, 3, 0.002 },
                { 0.8, 3, 0.45 },
                { 0, 2.7, 0 },
                { 0.2, 2.55, 0.112 },
                { 0.4, 2.4, 0.224 },
                { 1.3, 2.4, 0.728 },
                { 1.3, 2.25, 0.728  },

           { 0.002, 3, 0 },
                { 0.45, 3, 0.8 },
                { 0, 2.7, 0 },
                { 0.112, 2.55, 0.2 },
                { 0.224, 2.4, 0.4 },
                { 0.728, 2.4, 1.3 },
                { 0.728, 2.25, 1.3  },

           { 0, 3, 0 },
                { 0, 3, 0.8 },
                { 0, 2.7, 0 },
                { 0, 2.55, 0.2 },
                { 0, 2.4, 0.4 },
                { 0, 2.4, 1.3 },
                { 0, 2.25, 1.3  },

           { -0.002, 3, 0 },
                { -0.45, 3, 0.8 },
                { 0, 2.7, 0 },
                { -0.112, 2.55, 0.2 },
                { -0.224, 2.4, 0.4 },
                { -0.728, 2.4, 1.3 },
                { -0.728, 2.25, 1.3  },

           { 0, 3, 0.002 },
                { -0.8, 3, 0.45 },
                { 0, 2.7, 0 },
                { -0.2, 2.55, 0.112 },
                { -0.4, 2.4, 0.224 },
                { -1.3, 2.4, 0.728 },
                { -1.3, 2.25, 0.728  },

           { 0, 3, 0 },
                { -0.8, 3, 0 },
                { 0, 2.7, 0 },
                { -0.2, 2.55, 0 },
                { -0.4, 2.4, 0 },
                { -1.3, 2.4, 0 },
                { -1.3, 2.25, 0  },

           { 0, 3, -0.002 },
                { -0.8, 3, -0.45 },
                { 0, 2.7, 0 },
                { -0.2, 2.55, -0.112 },
                { -0.4, 2.4, -0.224 },
                { -1.3, 2.4, -0.728 },
                { -1.3, 2.25, -0.728  },

           { -0.002, 3, 0 },
                { -0.45, 3, -0.8 },
                { 0, 2.7, 0 },
                { -0.112, 2.55, -0.2 },
                { -0.224, 2.4, -0.4 },
                { -0.728, 2.4, -1.3 },
                { -0.728, 2.25, -1.3  },

           { 0, 3, 0 },
                { 0, 3, -0.8 },
                { 0, 2.7, 0 },
                { 0, 2.55, -0.2 },
                { 0, 2.4, -0.4 },
                { 0, 2.4, -1.3 },
                { 0, 2.25, -1.3  },

           { 0.002, 3, 0 },
                { 0.45, 3, -0.8 },
                { 0, 2.7, 0 },
                { 0.112, 2.55, -0.2 },
                { 0.224, 2.4, -0.4 },
                { 0.728, 2.4, -1.3 },
                { 0.728, 2.25, -1.3  },

           { 0, 3, -0.002 },
                { 0.8, 3, -0.45 },
                { 0, 2.7, 0 },
                { 0.2, 2.55, -0.112 },
                { 0.4, 2.4, -0.224 },
                { 1.3, 2.4, -0.728 },
                { 1.3, 2.25, -0.728  },

           { 0, 3, 0 },
                { 0.8, 3, 0 },
                { 0, 2.7, 0 },
                { 0.2, 2.55, 0 },
                { 0.4, 2.4, 0 },
                { 1.3, 2.4, 0 },
                { 1.3, 2.25, 0   }
    } ;

real nodosu_tapa[NPU_TAPA+4] =
    { 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 2 } ;

real nodosv_tapa[NPV_TAPA+4] =
    { 0, 0, 0, 0, 1, 1, 1, 2, 2, 2, 3, 3, 3, 4, 4, 4, 4 }  ;



void crea_bspline( sup_bspline *sbs, int npu, int npv, vector3 *tpc, real *tnu, real *tnv )
{
    vector_nodos vnu, vnv ;

    asigna_vector_nodos( &vnu, npu+4, tnu ) ;
    asigna_vector_nodos( &vnv, npv+4, tnv ) ;
    asigna_sup_bspline(sbs,npu,npv,tpc,&vnu,&vnv) ;
    free(vnu.tn);
    free(vnv.tn);
}

void crea_cuerpo( sup_bspline *sbs )
{
   crea_bspline(sbs,
	       NPU_CUERPO,NPV_CUERPO, puntos_cuerpo,
	       nodosu_cuerpo, nodosv_cuerpo ) ;
  

}

void crea_boca( sup_bspline *sbs )
{
  crea_bspline(sbs,
	       NPU_BOCA,NPV_BOCA, puntos_boca,
	       nodosu_boca, nodosv_boca ) ;
}


void crea_asa( sup_bspline *sbs )
{
  crea_bspline(sbs,
	       NPU_ASA,NPV_ASA, puntos_asa,
	       nodosu_asa, nodosv_asa ) ;
}

void crea_tapa( sup_bspline *sbs )
{

  crea_bspline(sbs,
	       NPU_TAPA,NPV_TAPA, puntos_tapa,
	       nodosu_tapa, nodosv_tapa ) ;
}

} ; // fin namespace sbs 
